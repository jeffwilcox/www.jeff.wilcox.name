<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>4th &amp; Mayor: the ultimate foursquare app for your Windows Phone - Jeff Wilcox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="4th &amp; Mayor: the ultimate foursquare app for your Windows Phone">
    <meta name="author" content="Jeff Wilcox">
    

    <link href="http://feeds.feedburner.com/jeffwilcox" rel="alternate" title="Jeff Wilcox" type="application/atom+xml" />
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/jmw.css" rel="stylesheet"/>
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/toc.js"></script>
    <script src="/js/jmw.js"></script>
    <link type="text/css" rel="stylesheet" href="//az414997.vo.msecnd.net/waz/syntax/styles/shCore.css"/>
    <link type="text/css" rel="stylesheet" href="//az414997.vo.msecnd.net/waz/syntax/styles/shThemeDefault.css"/>
  </head>
<body data-spy="scroll" data-target=".wiki-sidebar">
    <div class="navbar navbar-inverse" role="navigation"><!-- formerly navbar-fixed-top -->
        <div class="navbar-inner">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">Jeff Wilcox</a>
                </div>
                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about/">About</a></li>
                    <li><a href="/posts/">Posts</a></li>
                    <li><a href="https://github.com/jeffwilcox">//github.com/jeffwilcox</a></li>
                    <li><a href="https://twitter.com/jeffwilcox">@jeffwilcox</a></li>
                    <li><a href="http://linkedin.com/in/jeffreywilcox">LinkedIn</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>



<div class="container">

  <div class="container">
    <div class="row">
      <div class="col-md-8">

        <div id="post">
          <h2 class="post-title"><!--<a href="/2011/03/announcing-4thandmayor/">-->4th &amp; Mayor: the ultimate foursquare app for your Windows Phone<!--</a>--></h2>
          <div class="pull-right">
            <a href="https://twitter.com/share" class="twitter-share-button" data-via="jeffwilcox" data-count="none">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></p>
          </div>
          <p id="date" class="muted">
            
            
            <small>
              20 March 2011
            </small>
            
            <!--
            <ul class="categories nav nav-pills">
            
            </ul>
            -->
            
          </p>

          <div class="blogcontent">
            <p>I’m pleased to announce that my app is called <a href="http://www.4thandmayor.com/">4th &amp; Mayor</a>. It is a <a href="http://www.foursquare.com/">foursquare</a> client for Windows Phone 7 and it is now available for free on the Windows Phone Marketplace. I previously hinted at the app with <a href="http://www.jeff.wilcox.name/2011/03/building-an-unofficial-4sq-app-for-wp7/">this other post</a>.</p>  <p>This app brings all of the great new foursquare features that your iPhone and Android friends have been using: adding and experiencing photos at places, photos with tips, commenting on check-ins, and an early look at the cool new “explore” features that recommendations places and things to do. (<a href="http://blog.foursquare.com/2011/03/08/foursquare-3/">fsq3 info on the foursquare blog</a>)</p>  <p>It’s been a lot of fun building the client over the past few months, and I am excited to share a lot of my development experiences on this blog. Expect great things. Foursquare has a very solid and open API for developers to use (REST + JSON), and it’s a great, fun way to explore any city and stay in touch with your friends. Also, given all the recent news about Twitter, I’m super happy that I didn’t decide to make a Twitter client :-)</p>  <p>On top of being a fully functional, free foursquare app, I’ve also made sure to address key complaints that I heard from people regarding the official foursquare app for WP7: general touch responsiveness, feature completeness, and the ability to check-in to international locations (with accents and other special characters in their name).</p>  <p><a href="http://www.4thandmayor.com/features/index.html"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" border="0" src="http://d2tz2ccf2zi8lx.cloudfront.net/media/p1.png" /></a></p>  <h3>Follow the product</h3>  <p>You can find out more about 4th &amp; Mayor on the web at <a href="http://www.4thandmayor.com/">http://www.4thandmayor.com/</a> – as well as on Twitter <a href="http://www.twitter.com/4thandmayor">@4thandmayor</a> and on <a href="http://www.facebook.com/4thandmayor">Facebook</a>. If you are interested in the app, its features and updates, please subscribe to the app’s blog at <a href="http://blog.4thandmayor.com/">http://blog.4thandmayor.com/</a>.&#160; I don’t want to inundate my technical subscribers with news about app updates and new features, so I want to keep that separate for the most part.</p>  <p>Do expect a great series of blog posts to come out of this learning experience, all the development-related information will be posted here. From the Windows Phone design system to development tips and tricks, this is the place to find that.</p>  <h2>“4th &amp; Mayor”</h2>  <p>So my app is called 4th &amp; Mayor. Instead of focusing on just raw performance from a development standpoint, I wanted to show how I would envision a great Windows Phone app. I believe that for a v1.0 release, I have delivered a great initial app experience. I decided to try and demonstrate a happy compromise, hoping to yield a wonderful experience that doesn’t take short-cuts.</p>  <ul>   <li>An emphasis on design</li>    <li>Aiming for complete client functionality</li>    <li>Keeping the app responsive to user input no matter what</li>    <li>A beautiful experience, yet differentiated enough</li> </ul>  <p>This all started because one of the things I use my smart phone the most is foursquare, followed by email and Twitter. I just really wanted a better foursquare experience on the Windows Phone, and figured this would be the best way to gain excellent app development experience.</p>  <p>(The name? It's a little odd yet creative, is clearly not an official client, and it's all about working to become the mayor while having fun, right? The intersection of foursquare (4th) and the fun of the game – working to establish a mayorship (Mayor).</p>  <h3>An emphasis on design and rich visuals</h3>  <p>The design system for Windows Phone, code-named “Metro”, really is cool. Others have written about the experience before, but it really is a very developer-friendly design system that is crisp, clean, and once you understand the core principles and rules, it’s easy to build jaw-dropping apps. I’m just a geek, but feel I’ve come away with a pretty good first release when it comes to visual consistency and trying to adhere to the basics of “Metro”.</p>  <p>This comes through in a few ways. If you look to the screenshots below, on the left, you see the nice visuals in the “places” listing: no rounded corners, crisp and clean, etc. On the right, the “photos” pivot item for a page shows a few large, rich photos from the venue – and clicking them brings up the full-screen photo experience.</p>  <p>Both are very easy scenarios to polish thanks to XAML, but it takes an understanding of how to translate “Metro” ideas into XAML. A lot of off-by-12-pixel polishing goes into shipping a solid Windows Phone app.</p>  <p><a href="http://www.4thandmayor.com/"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" border="0" src="http://d2tz2ccf2zi8lx.cloudfront.net/media/p2.png" /></a></p>  <h3>A fun experience </h3>  <p>There’s great incentive in the new foursquare 3 features to check-in and have fun doing it: a completely revamped points system. Get points for being a VIP (checking in with the mayor), being the first of your friends to check out a new place, and so on. This, combined with the new leaderboards and an ever-growing catalog of badges is just modern-day fun.</p>  <h3>The rush to the marketplace</h3>  <p>When I heard about the problems that people were having with the foursquare app for Windows Phone, I decided to try and move into “ship mode” immediately instead of completing all of the features I had planned. I forked my source and started polishing and fixing bugs last weekend. As a result, I apologize if there’s something missing or a few bugs in the first release.</p>  <p>My app does 2 things that people have been having issues with the foursquare WP7 app:</p>  <ul>   <li>Sign in works</li>    <li>You’re able to check into a place that has special characters or accents in the name (international friends, enjoy!)</li> </ul>  <h3>An update with specials is coming soon</h3>  <p>Now that the app is out there, an update coming soon will add specials support, and I’ll also work to address any large buckets of customer-reported bugs. Thanks to getting the build out earlier in the week for people with developer unlocked phones, I’ve been able to start identifying a few small bugs and issues that I hope to correct soon (thanks everyone).</p>  <h2>From a blank Visual Studio project to shipping… &lt; 120 days</h2>  <p>I created a new Visual Studio project a few weeks after purchasing my first Windows Phone (a Samsung Focus, I’m pretty happy with it), and registered for the domain name 4thandmayor.com in early December 2010. Hoping to learn about the process of building a large, feature-complete Windows Phone app from the ground up, I had no idea how much time it would take, but it’s been a fun use of many a night and weekend over the past few months.</p>  <p>Most development happened in spurts as I found a free Sunday afternoon or a clear night or two. I’m really glad that I was able to the have the opportunity to build a feature-complete WP7 app and that Microsoft is open to this kind of project as appropriate.</p>  <p>A brief, approximate timeline of my development process:</p>  <ul>   <li>Early Dec. 2010: App concept, goals, and new Visual Studio project created. Targeting v1 of the foursquare API.</li>    <li>Mid-December: Domain name registration, setup a source control system at home, etc. Oh no! Foursquare v2 API launched, v1 to be deprecated.</li>    <li>Christmas vacation Dec. 2010: Lots of coding and completing the application, foursquare launched photos &amp; comments support for iPhone and Android. I was able to add these features in a few days over the break.</li>    <li>Late January: spent a few weekends polishing, fixing bugs, and focusing on the “Metro” design</li>    <li>February: moved to a much more rich data loading system</li>    <li>3/8/2011: foursquare announced fsq3, with even more new features, at SXSW. Around this time, there were login issues with the official foursquare app for WP7, and I decided it was time to launch the app.</li>    <li>3/16/2011: submitted to the Windows Phone Marketplace</li> </ul>  <p>Not knowing that fsq3 was coming out at SXSW, it’s a testament to the Windows Phone app platform that it only took a few hours to add these new views, models, and features into my app (exploring, enhanced leaderboards, etc.), allowing me to deliver a little more than a week and a half later a feature-complete implementation.</p>  <p>I will be covering a lot of the experiences and sharing a decent amount of code and samples over the next many blog posts, covering:</p>  <ul>   <li>Application architecture</li>    <li>Data loading strategies</li>    <li>Designing for Windows Phone… for developers.</li>    <li>Building out controls and components for a strong and polished “Metro” experience</li>    <li>Establishing a web experience for your WP7 app</li>    <li>Compromising between raw performance and beautiful design</li>    <li>Analytics and apps</li>    <li>Keeping the user interface responsive</li>    <li>OAuth2 and the Windows Phone</li>    <li>Pivot loading techniques and user interface virtualization tips</li>    <li>Debugging, collecting feedback and beta testing</li>    <li>Gold plating: making a fun out-of-box, first-time-run experience</li>    <li>Polishing a Windows Phone app</li>    <li>Marketplace ingestion and the last mile</li> </ul>  <p>Please let me know if there are any things I’ve missed, or you’d like to know about, and I will add them to the list! I’ve learned a wealth of information along the way but I think this will be a long-term blogging project, there’s just so many different things here.</p>  <h3>Technical building blocks</h3>  <p>The app was a pretty big technical undertaking, the goal of building a feature-complete app for such a large service is a big challenge. Along the way I had to build out a number of components, and of course make use of many great things others have shared as well.</p>  <ul>   <li><a href="http://silverlight.codeplex.com/">Silverlight for Windows Phone Toolkit</a>: powering page transitions, the tilt effect, and toggle switches.</li>    <li><a href="http://code.msdn.microsoft.com/AgFx-Windows-Phone-and-6fd11606">AgFx: a Windows Phone and Silverlight application framework</a> by Shawn Burke (more info <a href="http://blogs.msdn.com/b/sburke/archive/2011/03/11/build-great-windows-phone-applications-the-easy-way.aspx">here</a> and <a href="http://blogs.msdn.com/b/sburke/archive/2011/03/17/tutorial-building-a-connected-phone-app-with-agfx.aspx">here</a> too)</li>    <li>Various image control and loading concepts by <a href="http://blogs.msdn.com/b/delay">David Anson</a></li>    <li><a href="http://json.codeplex.com/">JSON.NET by James Newton-King</a></li>    <li>Andy Pennell’s <a href="http://blogs.msdn.com/b/andypennell/archive/2010/11/01/error-reporting-on-windows-phone-7.aspx">LittleWatson</a></li>    <li><a href="http://www.davidpoll.com/tag/silverlight-and-beyond-slab/">SLaB by David Poll</a> (used for tombstoning stuff)</li>    <li>Advice and code by Peter Torr &amp; also Gilles Khouzam</li>    <li>     <div align="left"><a href="http://www.microsoft.com/maps/product/licensing_for_mobile.aspx">Bing Maps Mobile Platform</a></div>   </li>    <li>And last but most important, the <a href="http://developer.foursquare.com/">foursquare developer API</a></li> </ul>  <p>And I also built out a ton of specialized components, talk about fun:</p>  <ul>   <li>Watermarked text box</li>    <li>Visual components resembling the OS’s text messaging experience</li>    <li>An awesome scroll viewer that can do delayed image loading in an efficient and smart manner</li>    <li>Smart image controls for fading, replacing “Metro”-style blocks of color, and efficiently downloading bits.</li>    <li>A grouping items control with an emphasis on smooth scrolling</li>    <li>A text visualizer for showing licensing information in the About screen</li>    <li>A Static Bing Map control for high-performant, beautiful maps</li>    <li>A WebXamlBlock for displaying updatable information</li>    <li>Orientation-aware layout containers</li>    <li>An analytics component</li>    <li>“Live tiles” for use inside an app</li>    <li>A fun <a href="http://en.wikipedia.org/wiki/Ken_burns">Ken Burns</a>-style effect</li>    <li>Enhanced message box and dialog overlays</li>    <li>A very lightweight app settings provider</li>    <li>Tombstoning stream and text functionality</li> </ul>  <h3>Initial reception</h3>  <blockquote>   <p>“My Saturday night was great, thx to 4th &amp; Mayor” – toowicked</p>    <p>“Been using 4th &amp; Mayor foursquare app, gotta say it’s the best one I’ve used on any OS. Get it when it’s available in WP7 marketplace!” - Jonnie</p>    <p>“4th &amp; Mayor you are beautiful and fill my heart with hope for #WP7 future.” - Sergey</p>    <p>“Wow, 4th &amp; Mayor is incredible. Infinitely better than the official foursquare app for Windows Phone.” - Brian</p>    <p>“Inspired by the @4thandmayor application. I guess I will be doing some #wp7 coding this weekend.” - Laci</p>    <p>“Wish we could get you to make a Twitter app that looks as good as 4th &amp; Mayor :-)” - Josh</p> </blockquote>  <h3>Special thanks</h3>  <p>This project could not have happened without the help and support of many good friends and engineers.</p>  <p>A big shout out to Naveen and all the folks at foursquare: thanks for building a beautiful product, great service, and having a solid, open API for developers to take advantage of!</p>  <p>As called out in the “About” page of my app, thanks:</p>  <ul>   <li>Shawn Burke</li>    <li>David Anson</li>    <li>Gilles Khouzam</li>    <li>David Poll</li>    <li>Peter Torr</li>    <li>Andy Pennell</li> </ul>  <p>Also, thanks to my excellent beta testers who have been checking in all over the world. Notably, Shawn, Eric, Gilles, Nimesh, Shoko, Sam, Johan, David, and Nic. You all rock!</p>  <p>There is a <a href="http://www.4thandmayor.com/support/knownIssues/index.html">list of known issues</a> up on the site. The app is designed to offer a rich, compelling and fun experience for people with up to 50 foursquare active friends, with slight performance degradation for people with more friends.</p>  <p>So, check out the site and download the app if you’re into foursquare.</p>  <p><a href="http://www.4thandmayor.com/"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" border="0" src="http://d2tz2ccf2zi8lx.cloudfront.net/media/wp7_install.png" /></a></p>  <p>Hope you enjoy the app!</p> <small>Foursquare™ is a trademark of Foursquare Labs, Inc.   <br />This application uses the foursquare™ application programming interface but is not endorsed or certified by Foursquare Labs, Inc.</small>

          </div>
        </div>

      </div>

      <div class="col-md-4 wiki-sidebaZr" style="margin-top:18px">
            
    <p style="position: relative; width: 100%; height:195px; min-height: 120px; background: url(/jeffwilcox.png) no-repeat"></p>
    

    
<p class="lead" style="font-size:20px">
  Jeff Wilcox is a Software Engineer at Microsoft in the
  Open Source Programs Office (OSPO), helping Microsoft engineers
  use, contribute to and release open source at scale.
  
</p>
<!--
<p>
  Jeff is an alumnus of the University of Michigan, Ann Arbor, with
  a degree in Computer Science.
</p>
-->
    <p><a href="https://twitter.com/jeffwilcox" class="twitter-follow-button" data-show-count="true" data-size="medium">Follow @jeffwilcox</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></p>

    
       <div style="margin-top: 24px">
           <!-- small -->
               
           <!-- /small -->
       </div>
    

    <div id="toc" class="wiki-sidebar" style="margin-top: 24px">
    </div>
    <script type="text/javascript">
    $(document).ready(function() {
        $('#toc').toc({
            listType: 'ul',
            noBackToTopLinks: true,
            showEffect: 'none',
            extraListGoo: ' class="nav wiki-sidenav"',
            extraListGoo2: ' class="nav"',
            showSpeed: 0,
            title: '<h4>Blog Post Explorer</h4>',
            headers: '.blogcontent h1, .blogcontent h2',
            firstItemHtml: '<li><a href="#top">Start</a></li>',
        });
        $('body').scrollspy('refresh');
    });
    </script>

      </div>

    </div><!-- row -->
  </div><!-- container 1 -->

  <div id="related">
    <h4>Other posts</h4>
    <ul class="posts">
      
        <li><span>25 Nov 2019</span> &raquo; <a href="/2019/11/evcondo/">My $6,000 Tesla Wall Connector: the story of bringing Electric Vehicle charging to a high-rise condo tower in Seattle</a></li>
      
        <li><span>25 Jun 2019</span> &raquo; <a href="/2019/06/scaling-25k/">Scaling from 2,000 to 25,000 engineers on GitHub at Microsoft</a></li>
      
        <li><span>10 Apr 2018</span> &raquo; <a href="/2018/04/seattle-network/">My home network: Ubiquiti UniFi gear, fiber gigabit Internet, CAT6 and CAT3 wiring</a></li>
      
        <li><span>28 Feb 2017</span> &raquo; <a href="/2017/02/azure-private-npm/">Deploying Node.js apps in Azure App Service using private npm feeds from Visual Studio Team Services</a></li>
      
    </ul>
  </div>

  
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jeffwilcox';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



</div><!-- container 2 -->

<div class="container">  
<hr />

<footer class="wiki-footer">
  <p class="pull-right"><a href="#top">Back to top</a></p>
  <div class="links">
    <a href="/">jeffwilcox.blog</a> |
    <a href="https://twitter.com/jeffwilcox">@jeffwilcox</a> |
    <a href="https://github.com/jeffwilcox/">github.com/jeffwilcox</a> |
    <a href="http://linkedin.com/in/jeffreywilcox">linkedin profile</a> |
    <a href="http://www.google.com/recaptcha/mailhide/d?k=01Tv_GmcqyJ7mtRaeIIZEB4w==&c=PqTaC_u8CDIyO7wQDBRbQC1w7tGtyj-TDjnJupt4zLw=">email</a> |
    <a href="http://feeds.feedburner.com/jeffwilcox">rss</a>
  </div>
  <p><small>&copy; Jeff Wilcox<br />
  <span class="muted">Disclaimer: The content on this site represents my own personal opinions and thoughts at the time of posting, and does not reflect those of my employer in any way.</span></small></p>
</footer>

</div><!-- /container -->
<script src="//az414997.vo.msecnd.net/waz/syntax/scripts/shCore.js" type="text/javascript"></script>
<script src="//az414997.vo.msecnd.net/waz/syntax/scripts/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
function stxpath()
{
  var args = arguments, result = [];
  for(var i = 0; i < args.length; i++) {
      result.push(args[i].replace('@', '//az414997.vo.msecnd.net/waz/syntax/scripts/'));
  }
  return result;
};
SyntaxHighlighter.autoloader.apply(null, stxpath(
  'bash shell             @shBrushBash.js',
  'c# c-sharp csharp      @shBrushCSharp.js',
  'js jscript javascript  @shBrushJScript.js',
  'text plain             @shBrushPlain.js',
  'xml xhtml xslt html    @shBrushXml.js'
));
SyntaxHighlighter.defaults['gutter'] = false;
SyntaxHighlighter.defaults['tab-size'] = 2;
SyntaxHighlighter.defaults['class-name'] = 'code';
SyntaxHighlighter.all(); //'code', false, true: tag, showGutter, showControls
</script>
<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-2695771-1");
pageTracker._trackPageview();
</script>
<!-- Google Analytics end -->
  </body>
</html>